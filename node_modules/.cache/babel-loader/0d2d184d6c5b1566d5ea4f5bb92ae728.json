{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Goragod Pongthanisor\\\\Desktop\\\\blockly-react\\\\src\\\\Blockly\\\\BlocklyComponent.jsx\";\n\n/**\r\n * @license\r\n *\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @fileoverview Blockly React Component.\r\n * @author samelh@google.com (Sam El-Husseini)\r\n */\nimport React from 'react';\nimport './BlocklyComponent.css';\nimport Blockly from 'blockly/core';\nimport locale from 'blockly/msg/en';\nimport 'blockly/blocks';\nBlockly.setLocale(locale);\n\nclass BlocklyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.blocklyDiv = React.createRef();\n    this.toolbox = React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      initialXml,\n      children,\n      ...rest\n    } = this.props;\n    this.primaryWorkspace = Blockly.inject(this.blocklyDiv.current, {\n      toolbox: this.toolbox.current,\n      ...rest\n    });\n\n    if (initialXml) {\n      Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(initialXml), this.primaryWorkspace);\n    }\n  }\n\n  get workspace() {\n    return this.primaryWorkspace;\n  }\n\n  setXml(xml) {\n    Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(xml), this.primaryWorkspace);\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.blocklyDiv,\n      id: \"blocklyDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"xml\", {\n      xmlns: \"https://developers.google.com/blockly/xml\",\n      is: \"blockly\",\n      style: {\n        display: 'none'\n      },\n      ref: this.toolbox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, children));\n  }\n\n}\n\nexport default BlocklyComponent;","map":{"version":3,"sources":["C:/Users/Goragod Pongthanisor/Desktop/blockly-react/src/Blockly/BlocklyComponent.jsx"],"names":["React","Blockly","locale","setLocale","BlocklyComponent","Component","constructor","props","blocklyDiv","createRef","toolbox","componentDidMount","initialXml","children","rest","primaryWorkspace","inject","current","Xml","domToWorkspace","textToDom","workspace","setXml","xml","render","display"],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;AAkBA;;;;AAKA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,wBAAP;AAEA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAO,gBAAP;AAEAD,OAAO,CAACE,SAAR,CAAkBD,MAAlB;;AAEA,MAAME,gBAAN,SAA+BJ,KAAK,CAACK,SAArC,CAA+C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,UAAL,GAAkBR,KAAK,CAACS,SAAN,EAAlB;AACA,SAAKC,OAAL,GAAeV,KAAK,CAACS,SAAN,EAAf;AACH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEC,MAAAA,UAAF;AAAcC,MAAAA,QAAd;AAAwB,SAAGC;AAA3B,QAAoC,KAAKP,KAA/C;AACA,SAAKQ,gBAAL,GAAwBd,OAAO,CAACe,MAAR,CACpB,KAAKR,UAAL,CAAgBS,OADI,EAEpB;AACIP,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaO,OAD1B;AAEI,SAAGH;AAFP,KAFoB,CAAxB;;AAQA,QAAIF,UAAJ,EAAgB;AACZX,MAAAA,OAAO,CAACiB,GAAR,CAAYC,cAAZ,CAA2BlB,OAAO,CAACiB,GAAR,CAAYE,SAAZ,CAAsBR,UAAtB,CAA3B,EAA8D,KAAKG,gBAAnE;AACH;AACJ;;AAED,MAAIM,SAAJ,GAAgB;AACZ,WAAO,KAAKN,gBAAZ;AACH;;AAEDO,EAAAA,MAAM,CAACC,GAAD,EAAM;AACRtB,IAAAA,OAAO,CAACiB,GAAR,CAAYC,cAAZ,CAA2BlB,OAAO,CAACiB,GAAR,CAAYE,SAAZ,CAAsBG,GAAtB,CAA3B,EAAuD,KAAKR,gBAA5D;AACH;;AAEDS,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEX,MAAAA;AAAF,QAAe,KAAKN,KAA1B;AAEA,wBAAO,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH;AAAK,MAAA,GAAG,EAAE,KAAKC,UAAf;AAA2B,MAAA,EAAE,EAAC,YAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,eAEH;AAAK,MAAA,KAAK,EAAC,2CAAX;AAAuD,MAAA,EAAE,EAAC,SAA1D;AAAoE,MAAA,KAAK,EAAE;AAAEiB,QAAAA,OAAO,EAAE;AAAX,OAA3E;AAAgG,MAAA,GAAG,EAAE,KAAKf,OAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKG,QADL,CAFG,CAAP;AAMH;;AAvC0C;;AA0C/C,eAAeT,gBAAf","sourcesContent":["/**\r\n * @license\r\n *\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * @fileoverview Blockly React Component.\r\n * @author samelh@google.com (Sam El-Husseini)\r\n */\r\n\r\nimport React from 'react';\r\nimport './BlocklyComponent.css';\r\n\r\nimport Blockly from 'blockly/core';\r\nimport locale from 'blockly/msg/en';\r\nimport 'blockly/blocks';\r\n\r\nBlockly.setLocale(locale);\r\n\r\nclass BlocklyComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.blocklyDiv = React.createRef();\r\n        this.toolbox = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { initialXml, children, ...rest } = this.props;\r\n        this.primaryWorkspace = Blockly.inject(\r\n            this.blocklyDiv.current,\r\n            {\r\n                toolbox: this.toolbox.current,\r\n                ...rest\r\n            },\r\n        );\r\n\r\n        if (initialXml) {\r\n            Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(initialXml), this.primaryWorkspace);\r\n        }\r\n    }\r\n\r\n    get workspace() {\r\n        return this.primaryWorkspace;\r\n    }\r\n\r\n    setXml(xml) {\r\n        Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(xml), this.primaryWorkspace);\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n\r\n        return <React.Fragment>\r\n            <div ref={this.blocklyDiv} id=\"blocklyDiv\" />\r\n            <xml xmlns=\"https://developers.google.com/blockly/xml\" is=\"blockly\" style={{ display: 'none' }} ref={this.toolbox}>\r\n                {children}\r\n            </xml>\r\n        </React.Fragment>;\r\n    }\r\n}\r\n\r\nexport default BlocklyComponent;\r\n"]},"metadata":{},"sourceType":"module"}