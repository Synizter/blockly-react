{"ast":null,"code":"/**\r\n * @license\r\n *\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @fileoverview Define generation methods for custom blocks.\r\n * @author samelh@google.com (Sam El-Husseini)\r\n */\n// More on generating code:\n// https://developers.google.com/blockly/guides/create-custom-blocks/generating-code\nimport * as Blockly from 'blockly/core';\nimport 'blockly/javascript';\n\nBlockly.JavaScript['test_react_field'] = function (block) {\n  return \"console.log('custom block');\\n\";\n};\n\nBlockly.JavaScript['test_react_date_field'] = function (block) {\n  return 'console.log(' + block.getField('DATE').getText() + ');\\n';\n};\n\nBlockly.JavaScript['robot_action_speak'] = function (block) {\n  var code = '';\n  var tts = Blockly.JavaScript.valueToCode(block, 'TEXT_TO_SPEACH', Blockly.JavaScript.ORDER_ATOMIC);\n  code += 'var speak_req = new XMLHttpRequest();\\n';\n  code += 'var json_content = \\'{\"SPEAK\":\"' + tts.replace(/'/g, '') + '\"}\\';\\n';\n  code += \"var url = 'https://temi-cmd.firebaseio.com/ActionList/action_' + actionID + '.json';\\n\";\n  code += \"speak_req.open('PUT', url, true);\\n\";\n  code += \"speak_req.setRequestHeader('Content-Type', 'application/json');\\n\";\n  code += 'speak_req.send(JSON.stringify(JSON.parse(json_content)));\\n';\n  code += 'actionID += 1;\\n\\n\\n';\n  return code;\n};\n\nBlockly.JavaScript['robot_action_move_forward'] = function (block) {\n  var code = \"\";\n  code += 'var speak_req = new XMLHttpRequest();\\n';\n  code += 'var json_content = \\'{\"MOVE\":\"FORWARD\"}\\';\\n';\n  code += \"var url = 'https://temi-cmd.firebaseio.com/ActionList/action_' + actionID + '.json';\\n\";\n  code += \"speak_req.open('PUT', url, true);\\n\";\n  code += \"speak_req.setRequestHeader('Content-Type', 'application/json');\\n\";\n  code += 'speak_req.send(JSON.stringify(JSON.parse(json_content)));\\n';\n  code += 'actionID += 1;\\n\\n\\n';\n  return code;\n};","map":{"version":3,"sources":["C:/Users/Goragod Pongthanisor/Desktop/blockly-react/src/generator/generator.js"],"names":["Blockly","JavaScript","block","getField","getText","code","tts","valueToCode","ORDER_ATOMIC","replace"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA;;;;AAKA;AACA;AAEA,OAAO,KAAKA,OAAZ,MAAyB,cAAzB;AACA,OAAO,oBAAP;;AAEAA,OAAO,CAACC,UAAR,CAAmB,kBAAnB,IAAyC,UAAUC,KAAV,EAAiB;AACxD,SAAO,gCAAP;AACD,CAFD;;AAIAF,OAAO,CAACC,UAAR,CAAmB,uBAAnB,IAA8C,UAAUC,KAAV,EAAiB;AAC7D,SAAO,iBAAiBA,KAAK,CAACC,QAAN,CAAe,MAAf,EAAuBC,OAAvB,EAAjB,GAAoD,MAA3D;AACD,CAFD;;AAIAJ,OAAO,CAACC,UAAR,CAAmB,oBAAnB,IAA2C,UAAUC,KAAV,EAAiB;AAC1D,MAAIG,IAAI,GAAG,EAAX;AACA,MAAIC,GAAG,GAAGN,OAAO,CAACC,UAAR,CAAmBM,WAAnB,CACRL,KADQ,EAER,gBAFQ,EAGRF,OAAO,CAACC,UAAR,CAAmBO,YAHX,CAAV;AAKAH,EAAAA,IAAI,IAAI,yCAAR;AACAA,EAAAA,IAAI,IAAI,oCAAoCC,GAAG,CAACG,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAApC,GAA4D,SAApE;AACAJ,EAAAA,IAAI,IAAI,wFAAR;AACAA,EAAAA,IAAI,IAAI,qCAAR;AACAA,EAAAA,IAAI,IAAI,mEAAR;AACAA,EAAAA,IAAI,IAAI,6DAAR;AACAA,EAAAA,IAAI,IAAI,sBAAR;AACA,SAAOA,IAAP;AACD,CAfD;;AAiBAL,OAAO,CAACC,UAAR,CAAmB,2BAAnB,IAAkD,UAAUC,KAAV,EAAiB;AACjE,MAAIG,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,IAAI,yCAAR;AACAA,EAAAA,IAAI,IAAI,8CAAR;AACAA,EAAAA,IAAI,IAAI,wFAAR;AACAA,EAAAA,IAAI,IAAI,qCAAR;AACAA,EAAAA,IAAI,IAAI,mEAAR;AACAA,EAAAA,IAAI,IAAI,6DAAR;AACAA,EAAAA,IAAI,IAAI,sBAAR;AACA,SAAOA,IAAP;AACD,CAVD","sourcesContent":["/**\r\n * @license\r\n *\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * @fileoverview Define generation methods for custom blocks.\r\n * @author samelh@google.com (Sam El-Husseini)\r\n */\r\n\r\n// More on generating code:\r\n// https://developers.google.com/blockly/guides/create-custom-blocks/generating-code\r\n\r\nimport * as Blockly from 'blockly/core';\r\nimport 'blockly/javascript';\r\n\r\nBlockly.JavaScript['test_react_field'] = function (block) {\r\n  return \"console.log('custom block');\\n\";\r\n};\r\n\r\nBlockly.JavaScript['test_react_date_field'] = function (block) {\r\n  return 'console.log(' + block.getField('DATE').getText() + ');\\n';\r\n};\r\n\r\nBlockly.JavaScript['robot_action_speak'] = function (block) {\r\n  var code = '';\r\n  var tts = Blockly.JavaScript.valueToCode(\r\n    block,\r\n    'TEXT_TO_SPEACH',\r\n    Blockly.JavaScript.ORDER_ATOMIC\r\n  );\r\n  code += 'var speak_req = new XMLHttpRequest();\\n';\r\n  code += 'var json_content = \\'{\"SPEAK\":\"' + tts.replace(/'/g, '') + '\"}\\';\\n';\r\n  code += \"var url = 'https://temi-cmd.firebaseio.com/ActionList/action_' + actionID + '.json';\\n\";\r\n  code += \"speak_req.open('PUT', url, true);\\n\";\r\n  code += \"speak_req.setRequestHeader('Content-Type', 'application/json');\\n\";\r\n  code += 'speak_req.send(JSON.stringify(JSON.parse(json_content)));\\n';\r\n  code += 'actionID += 1;\\n\\n\\n';\r\n  return code;\r\n};\r\n\r\nBlockly.JavaScript['robot_action_move_forward'] = function (block) {\r\n  var code = \"\";\r\n  code += 'var speak_req = new XMLHttpRequest();\\n';\r\n  code += 'var json_content = \\'{\"MOVE\":\"FORWARD\"}\\';\\n';\r\n  code += \"var url = 'https://temi-cmd.firebaseio.com/ActionList/action_' + actionID + '.json';\\n\";\r\n  code += \"speak_req.open('PUT', url, true);\\n\";\r\n  code += \"speak_req.setRequestHeader('Content-Type', 'application/json');\\n\";\r\n  code += 'speak_req.send(JSON.stringify(JSON.parse(json_content)));\\n';\r\n  code += 'actionID += 1;\\n\\n\\n';\r\n  return code;\r\n}"]},"metadata":{},"sourceType":"module"}